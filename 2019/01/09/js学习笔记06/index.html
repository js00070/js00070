<!DOCTYPE html>
<html lang="en">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="google-site-verification" content="xBT4GhYoi5qRD5tr338pgPM5OWHHIDR6mNg1a3euekI">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="description">
    <meta name="keyword" content="">
    <link rel="shortcut icon" href="/img/favicon.ico">

    <title>
        
        JavaScript学习笔记：DOM操作 - 1781的小提琴的博客 | 1781Violin&#39;s Blog
        
    </title>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/aircloud.css">
    <link rel="stylesheet" href="/css/gitment.css">
    <!--<link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">-->
    <link href="//at.alicdn.com/t/font_620856_pl6z7sid89qkt9.css" rel="stylesheet" type="text/css">
    <!-- ga & ba script hoook -->
    <script></script>
</head>

<body>

<div class="site-nav-toggle" id="site-nav-toggle">
    <button>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
        <span class="btn-bar"></span>
    </button>
</div>

<div class="index-about">
    <i> 只有在现实的世界中并使用现实的手段才能实现真正的解放 </i>
</div>

<div class="index-container">
    
    <div class="index-left">
        
<div class="nav" id="nav">
    <div class="avatar-name">
        <div class="avatar">
            <img src="/img/head.jpg">
        </div>
        <div class="name">
            <i>1781的小提琴</i>
        </div>
    </div>
    <div class="contents" id="nav-content">
        <ul>
            <li>
                <a href="/">
                    <i class="iconfont icon-shouye1"></i>
                    <span>主页</span>
                </a>
            </li>
            <li>
                <a href="/tags">
                    <i class="iconfont icon-biaoqian1"></i>
                    <span>标签</span>
                </a>
            </li>
            <li>
                <a href="/archives">
                    <i class="iconfont icon-guidang2"></i>
                    <span>存档</span>
                </a>
            </li>
            <li>
                <a href="/about/">
                    <i class="iconfont icon-guanyu2"></i>
                    <span>关于</span>
                </a>
            </li>
            
        </ul>
    </div>
    
        <div id="toc" class="toc-article">
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#浏览器环境"><span class="toc-text">浏览器环境</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM树"><span class="toc-text">DOM树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#访问DOM树"><span class="toc-text">访问DOM树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#搜索DOM树"><span class="toc-text">搜索DOM树</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DOM节点类"><span class="toc-text">DOM节点类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#修改DOM树"><span class="toc-text">修改DOM树</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#innerHTML"><span class="toc-text">innerHTML</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#outerHTML"><span class="toc-text">outerHTML</span></a></li></ol></li></ol>
</div>
    
</div>


<div class="search-field" id="search-field">
    <div class="search-container">
        <div class="search-input">
            <span id="esc-search"> <i class="icon-fanhui iconfont"></i></span>
            <input id="search-input">
            <span id="begin-search">搜索</span>
        </div>
        <div class="search-result-container" id="search-result-container">

        </div>
    </div>
</div>
        <div class="index-about-mobile">
            <i> 只有在现实的世界中并使用现实的手段才能实现真正的解放 </i>
        </div>
    </div>
    
    <div class="index-middle">
        <!-- Main Content -->
        


<div class="post-container">
    <div class="post-title">
        JavaScript学习笔记：DOM操作
    </div>

    <div class="post-meta">
        <span class="attr">发布于：<span>2019-01-09 09:35:43</span></span>
        
        <span class="attr">标签：/
        
        <a class="tag" href="/tags/#JavaScript" title="JavaScript">JavaScript</a>
        <span>/</span>
        
        <a class="tag" href="/tags/#前端" title="前端">前端</a>
        <span>/</span>
        
        
        </span>
        <span class="attr">访问：<span id="busuanzi_value_page_pv"></span>
</span>

    </div>
    <div class="post-content ">
        <h3 id="浏览器环境"><a href="#浏览器环境" class="headerlink" title="浏览器环境"></a>浏览器环境</h3><p><img src="https://javascript.info/article/browser-environment/windowObjects@2x.png" alt="avatar"></p>
<h3 id="DOM树"><a href="#DOM树" class="headerlink" title="DOM树"></a>DOM树</h3><p>DOM树总共有12种节点类型，实践中一般主要操作其中的4种：</p>
<ol>
<li>document节点，访问DOM的入口节点</li>
<li>element节点，HTML元素</li>
<li>text节点，包含文本内容</li>
<li>注释节点，可以读取注释内容</li>
</ol>
<h3 id="访问DOM树"><a href="#访问DOM树" class="headerlink" title="访问DOM树"></a>访问DOM树</h3><p>DOM树的结构如图所示，可以通过图中的那些引用变量访问DOM树节点：</p>
<p><img src="https://javascript.info/article/dom-navigation/dom-links@2x.png" alt="avatar"></p>
<p>如果仅仅想访问DOM树中的HTML元素，而不想看到其他的乱七八糟的节点，则如下图所示：</p>
<p><img src="https://javascript.info/article/dom-navigation/dom-links-elements@2x.png" alt="avatar"></p>
<p>其中，childrenNodes和children都是Collection而不是Array，所以可以通过for.。.of迭代访问，而不能使用.filter(…)这种方法。</p>
<p>DOM树是只读的，不能直接用赋值修改DOM树节点。</p>
<h3 id="搜索DOM树"><a href="#搜索DOM树" class="headerlink" title="搜索DOM树"></a>搜索DOM树</h3><p>主要有六种方法可以在DOM树中搜索需要的节点：</p>
<table>
<thead>
<tr>
<th>Method</th>
<th>Searches by…</th>
<th>Can call on an element?</th>
<th>Live?</th>
</tr>
</thead>
<tbody>
<tr>
<td>getElementById</td>
<td>id</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td>getElementsByName</td>
<td>name</td>
<td>-</td>
<td>✔</td>
</tr>
<tr>
<td>getElementsByTagName</td>
<td>tag or ‘*’</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td>getElementsByClassName</td>
<td>class</td>
<td>✔</td>
<td>✔</td>
</tr>
<tr>
<td>querySelector</td>
<td>CSS-selector</td>
<td>✔</td>
<td>-</td>
</tr>
<tr>
<td>querySelectorAll</td>
<td>CSS-selector</td>
<td>✔</td>
<td>-</td>
</tr>
</tbody>
</table>
<p>另外，还有</p>
<ul>
<li>elem.matches(css)用于检查elem元素是否匹配css这个选择器</li>
<li>elem.closest(css)用于寻找匹配css选择器的距离elem最近的祖先</li>
<li>elemA.contains(elemB)用于检查elemA是否包含elemB</li>
</ul>
<h3 id="DOM节点类"><a href="#DOM节点类" class="headerlink" title="DOM节点类"></a>DOM节点类</h3><p>每一种DOM节点都是一个DOM节点类的实例，DOM节点类的继承树如下图所示：</p>
<p><img src="https://javascript.info/article/basic-dom-node-properties/dom-class-hierarchy@2x.png" alt="DOM节点类"></p>
<ul>
<li>Node是所有DOM节点的基类，里面提供了诸如parentNode、nextSibling、childNodes这种getter方法</li>
<li>HTMLElement是所有HTML元素的基类，各种不同种类的HTML元素都继承了这个基类</li>
</ul>
<p>要获取node的类型，有很多种方法,比如：</p>
<ul>
<li>elem.nodeType，返回一个数字，标记了node的类型</li>
<li>elem.nodeName/elem.tagname，返回字符串</li>
</ul>
<h3 id="修改DOM树"><a href="#修改DOM树" class="headerlink" title="修改DOM树"></a>修改DOM树</h3><h4 id="innerHTML"><a href="#innerHTML" class="headerlink" title="innerHTML"></a>innerHTML</h4><p>可以通过对innerHTML进行修改来修改HTML元素的内容，如下例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span>&gt;</span>A paragraph<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span>&gt;</span>A div<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">    alert( <span class="built_in">document</span>.body.innerHTML ); <span class="comment">// read the current contents</span></span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.body.innerHTML = <span class="string">'The new BODY!'</span>; <span class="comment">// replace it</span></span></span><br><span class="line"><span class="undefined">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h4 id="outerHTML"><a href="#outerHTML" class="headerlink" title="outerHTML"></a>outerHTML</h4><p>可以通过对元素的outerHTML进行<strong>替换</strong>来替换整个HTML元素，如下例：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="keyword">let</span> div = <span class="built_in">document</span>.querySelector(<span class="string">'div'</span>);</span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="xml">  // replace div.outerHTML with <span class="tag">&lt;<span class="name">p</span>&gt;</span>...<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="javascript">  div.outerHTML = <span class="string">'&lt;p&gt;A new element!&lt;/p&gt;'</span>; <span class="comment">// (*)</span></span></span><br><span class="line"><span class="undefined"></span></span><br><span class="line"><span class="javascript">  <span class="comment">// Wow! The div is still the same!</span></span></span><br><span class="line"><span class="xml">  alert(div.outerHTML); // <span class="tag">&lt;<span class="name">div</span>&gt;</span>Hello, world!<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>div.outerHTML仍保持了原先HTML元素内容的引用，但这个元素原先所在的HTML文档的位置被替换成了新的HTML元素。</p>

        
        <br>
        <div id="comment-container">
        </div>
        <div id="disqus_thread"></div>

        <div id="lv-container">
        </div>

    </div>
</div>
    </div>
</div>


<footer class="footer">
    <ul class="list-inline text-center">
        
        
        <li>
            <a target="_blank" href="https://www.zhihu.com/people/z-z-y-17-81">
                            <span class="fa-stack fa-lg">
                                 <i class="iconfont icon-zhihu"></i>
                            </span>
            </a>
        </li>
        

        

        

        
        <li>
            <a target="_blank" href="https://github.com/js00070">
                            <span class="fa-stack fa-lg">
                                <i class="iconfont icon-github"></i>
                            </span>
            </a>
        </li>
        

        

    </ul>
    
    <p>
        <span>/</span>
        
        <span><a href="http://magicluna.me/">友情链接MagicLuna</a></span>
        <span>/</span>
        
    </p>
    
    <p>
        <span id="busuanzi_container_site_pv">
            <span id="busuanzi_value_site_pv"></span>PV
        </span>
        <span id="busuanzi_container_site_uv">
            <span id="busuanzi_value_site_uv"></span>UV
        </span>
        Created By <a href="https://hexo.io/">Hexo</a>  Theme <a href="https://github.com/aircloud/hexo-theme-aircloud">AirCloud</a></p>
</footer>




</body>

<script>
    // We expose some of the variables needed by the front end
    window.hexo_search_path = ""
    window.hexo_root = "/"
    window.isPost = true
</script>
<script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script>
<script src="/js/index.js"></script>
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>




</html>
